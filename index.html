<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Workout Planner</title>

<style>
* {box-sizing:border-box;margin:0;padding:0}
body {font-family:Segoe UI;background:linear-gradient(135deg,#667eea,#764ba2);min-height:100vh;padding:18px}
.container {max-width:1200px;margin:auto;color:#222}
.header {text-align:center;color:#fff;margin-bottom:20px}

.main {display:grid;grid-template-columns:1fr 2fr;gap:18px}

@media (max-width: 768px) {
  .main {grid-template-columns:1fr}
}

.panel {background:#fff;border-radius:14px;padding:16px;box-shadow:0 10px 35px rgba(0,0,0,.25)}

.equipmentBtn {padding:12px;border-radius:10px;background:#f2f2f2;margin-bottom:7px;cursor:pointer;border-left:4px solid #ccc;font-weight:600}
.equipmentBtn.active {background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border-left-color:#764ba2}

.muscleGroup {margin-top:14px;font-weight:700;color:#764ba2;padding:8px;background:#f0f0f0;border-radius:8px}

.exerciseRow {display:flex;gap:6px;margin-bottom:6px;margin-top:5px}
.exerciseBtn {flex:1;padding:9px;border-radius:8px;border:2px solid #ddd;background:#f4f4f4;cursor:pointer;text-align:left}
.exerciseBtn.selected {background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border-color:#5568d3}
.viewBtn {background:#ff5252;color:white;border:none;border-radius:8px;padding:0 12px;cursor:pointer;font-weight:bold}

.badge {background:#667eea;color:white;padding:6px 10px;border-radius:20px;margin:3px;display:inline-block;cursor:pointer;font-size:13px}
.removeBadge {position:absolute;right:6px;top:50%;transform:translateY(-50%);background:#f44336;width:18px;height:18px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:14px;font-weight:bold;line-height:1;cursor:pointer}
.removeBadge:hover {background:#d32f2f}

.card {background:#f7f7f7;border-radius:12px;padding:12px;margin-top:12px;border:2px solid #e0e0e0}
.cardHeader {display:flex;justify-content:space-between;margin-bottom:8px;align-items:center}

.btn {border:none;border-radius:8px;padding:5px 9px;color:white;cursor:pointer;margin-left:4px}
.edit {background:#4CAF50}
.del {background:#f44336}

.modal {display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.65);align-items:center;justify-content:center;z-index:999}
.modal.active {display:flex}
.modalBox {background:white;border-radius:14px;padding:18px;width:92%;max-width:720px;position:relative;max-height:90vh;overflow-y:auto}
.close {position:absolute;top:8px;right:14px;font-size:26px;cursor:pointer;background:#f44336;color:white;width:35px;height:35px;border-radius:50%;display:flex;align-items:center;justify-content:center;line-height:1}
.close:hover {background:#d32f2f}

.info-box {background:#e3f2fd;border-left:4px solid #2196f3;padding:12px;margin:10px 0;border-radius:4px;font-size:14px}

/* Search Box Styles */
.searchBox {position:relative;margin-bottom:12px}
.searchBox input {width:100%;padding:10px 40px 10px 12px;border:2px solid #ddd;border-radius:10px;font-size:15px;outline:none;transition:border .3s}
.searchBox input:focus {border-color:#667eea}
.searchIcon {position:absolute;right:12px;top:50%;transform:translateY(-50%);color:#999;font-size:18px;pointer-events:none}
.clearSearch {position:absolute;right:40px;top:50%;transform:translateY(-50%);background:#f44336;color:white;border:none;border-radius:50%;width:20px;height:20px;font-size:12px;cursor:pointer;display:none}
.clearSearch.show {display:block}
.noResults {text-align:center;color:#999;padding:30px;font-size:14px}
</style>
</head>

<body>

<div class="container">
<div class="header">
<h1>üèãÔ∏è ‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡∏à‡∏±‡∏î‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÄ‡∏ß‡∏ó</h1>
<p>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏±‡∏ô ‚Üí ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå ‚Üí ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡πà‡∏≤ ‚Üí ‡∏î‡∏π‡∏ß‡∏¥‡∏î‡∏µ‡πÇ‡∏≠</p>
</div>

<div class="panel" style="margin-bottom:18px">
<h3>üìä ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</h3>
<div id="schedule"></div>
</div>

<div class="main">

<div class="panel">
<h3>üìÖ ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏±‡∏ô</h3>
<div id="dayList"></div>
</div>

<div class="panel">
<div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:10px">
  <h3>üí™ ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡πà‡∏≤‡∏ù‡∏∂‡∏Å</h3>
  <div id="equipmentSelector"></div>
</div>

<!-- Search Box -->
<div class="searchBox">
  <input type="text" id="searchInput" placeholder="üîç ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏ó‡πà‡∏≤‡∏ù‡∏∂‡∏Å (‡∏ä‡∏∑‡πà‡∏≠‡∏ó‡πà‡∏≤, ‡∏Å‡∏•‡πâ‡∏≤‡∏°‡πÄ‡∏ô‡∏∑‡πâ‡∏≠, ‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó)..." />
  <span class="searchIcon">üîç</span>
  <button class="clearSearch" id="clearSearch" onclick="clearSearch()">√ó</button>
</div>

<div id="exerciseList">‚Üê ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏±‡∏ô‡πÅ‡∏•‡∏∞‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå</div>
</div>

</div>

<!-- MODAL -->
<div class="modal" id="modal">
<div class="modalBox">
<span class="close" onclick="closeDetail()">√ó</span>

<h2 id="mTitle" style="margin-bottom:10px"></h2>

<div style="text-align:center;margin:10px 0">
<img id="mImg" style="max-width:100%;border-radius:12px;display:none">
<video id="mVideo" controls playsinline preload="metadata"
style="width:100%;border-radius:12px;margin-top:10px;display:none">
<source id="mVideoSrc" src="" type="video/mp4">
</video>
</div>

<p id="mDesc" style="margin:10px 0"></p>
<p id="mTarget" style="color:#2e7d32;font-weight:600;margin-top:10px"></p>
<p id="mType" style="color:#764ba2;font-weight:600;margin-top:5px"></p>
</div>
</div>

<script>

/* -------- ‡∏ß‡∏±‡∏ô -------- */
const weekDays = [
{day:'‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå', muscles:[]},
{day:'‡∏≠‡∏±‡∏á‡∏Ñ‡∏≤‡∏£', muscles:[]},
{day:'‡∏û‡∏∏‡∏ò', muscles:[]},
{day:'‡∏û‡∏§‡∏´‡∏±‡∏™‡∏ö‡∏î‡∏µ', muscles:[]},
{day:'‡∏®‡∏∏‡∏Å‡∏£‡πå', muscles:[]},
{day:'‡πÄ‡∏™‡∏≤‡∏£‡πå', muscles:[]},
{day:'‡∏≠‡∏≤‡∏ó‡∏¥‡∏ï‡∏¢‡πå', muscles:[]}
];

/* -------- localStorage -------- */
function saveData() {
  localStorage.setItem("workoutData", JSON.stringify(weekDays));
}

function loadData() {
  const d = localStorage.getItem("workoutData");
  if(!d) return;
  JSON.parse(d).forEach((p, i) => weekDays[i].muscles = p.muscles || []);
}

/* -------- ‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡πà‡∏≤ -------- 
   image: ‡πÉ‡∏™‡πà‡∏•‡∏¥‡∏á‡∏Å‡πå URL ‡∏Ç‡∏≠‡∏á GIF (‡∏Å‡πá‡∏≠‡∏õ‡∏à‡∏≤‡∏Å‡πÄ‡∏ß‡πá‡∏ö)
   video: ‡πÉ‡∏™‡πà path ‡∏Ç‡∏≠‡∏á‡πÑ‡∏ü‡∏•‡πå‡∏ß‡∏¥‡∏î‡∏µ‡πÇ‡∏≠‡πÉ‡∏ô‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå videos/ ‡πÄ‡∏ä‡πà‡∏ô "./videos/curl.mp4"
-------- */
const exercisesData = {

  "üèãÔ∏è ‡∏î‡∏±‡∏°‡πÄ‡∏ö‡∏•": [
    {name:"Dumbbell Bench Press", muscle:"‡∏≠‡∏Å", targets:"‡∏≠‡∏Å‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î", type:"Compound", image:"https://fitnessprogramer.com/wp-content/uploads/2021/02/Dumbbell-Press.gif", video:"./videos/db-bench.mp4", description:"‡∏ó‡πà‡∏≤‡∏´‡∏•‡∏±‡∏Å‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏≠‡∏Å"},
    {name:"Incline Dumbbell Press", muscle:"‡∏≠‡∏Å", targets:"‡∏≠‡∏Å‡∏ö‡∏ô", type:"Compound", image:"https://i.pinimg.com/originals/be/94/3f/be943f55c4a35f5599824db11168d686.gif", video:"./videos/db-incline.mp4", description:"‡πÄ‡∏ô‡πâ‡∏ô‡∏≠‡∏Å‡∏ö‡∏ô"},
    {name:"Decline Dumbbell Press", muscle:"‡∏≠‡∏Å", targets:"‡∏≠‡∏Å‡∏•‡πà‡∏≤‡∏á", type:"Compound", image:"https://i.pinimg.com/originals/90/89/83/9089835e446b9dd9b180bdfda6b06ad8.gif", video:"./videos/db-decline.mp4", description:"‡πÄ‡∏ô‡πâ‡∏ô‡∏≠‡∏Å‡∏•‡πà‡∏≤‡∏á"},
    {name:"Dumbbell Fly", muscle:"‡∏≠‡∏Å", targets:"‡∏≠‡∏Å‡∏Å‡∏•‡∏≤‡∏á", type:"Isolation", image:"https://fitnessprogramer.com/wp-content/uploads/2021/02/Dumbbell-Fly.gif", video:"./videos/db-fly.mp4", description:"‡∏Å‡∏≤‡∏á‡∏≠‡∏Å"},
    {name:"Incline Dumbbell Fly", muscle:"‡∏≠‡∏Å", targets:"‡∏≠‡∏Å‡∏ö‡∏ô", type:"Isolation", image:"", video:"./videos/db-incline-fly.mp4", description:"‡∏Å‡∏≤‡∏á‡∏≠‡∏Å‡∏ö‡∏ô"},
    
    {name:"Dumbbell Row", muscle:"‡∏´‡∏•‡∏±‡∏á", targets:"‡∏Å‡∏•‡∏≤‡∏á‡∏´‡∏•‡∏±‡∏á", type:"Compound", image:"", video:"./videos/db-row.mp4", description:"‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏´‡∏•‡∏±‡∏á‡∏´‡∏ô‡∏≤"},
    {name:"Single Arm Dumbbell Row", muscle:"‡∏´‡∏•‡∏±‡∏á", targets:"‡∏Å‡∏•‡∏≤‡∏á‡∏´‡∏•‡∏±‡∏á ‡∏õ‡∏µ‡∏Å", type:"Compound", image:"", video:"./videos/db-single-row.mp4", description:"‡∏ù‡∏∂‡∏Å‡∏ó‡∏µ‡∏•‡∏∞‡∏Ç‡πâ‡∏≤‡∏á"},
    {name:"Dumbbell Pullover", muscle:"‡∏´‡∏•‡∏±‡∏á", targets:"‡∏´‡∏•‡∏±‡∏á‡∏ö‡∏ô ‡∏≠‡∏Å", type:"Isolation", image:"", video:"./videos/db-pullover.mp4", description:"‡∏Ç‡∏¢‡∏≤‡∏¢‡∏Å‡∏£‡∏á‡∏≠‡∏Å"},
    
    {name:"Dumbbell Shoulder Press", muscle:"‡πÑ‡∏´‡∏•‡πà", targets:"‡πÑ‡∏´‡∏•‡πà‡∏´‡∏ô‡πâ‡∏≤ ‡πÑ‡∏´‡∏•‡πà‡∏Å‡∏•‡∏≤‡∏á", type:"Compound", image:"", video:"./videos/db-shoulder-press.mp4", description:"‡πÑ‡∏´‡∏•‡πà‡πÅ‡∏Å‡∏£‡πà‡∏á"},
    {name:"Arnold Press", muscle:"‡πÑ‡∏´‡∏•‡πà", targets:"‡πÑ‡∏´‡∏•‡πà‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î", type:"Compound", image:"", video:"./videos/arnold-press.mp4", description:"‡∏ó‡πà‡∏≤‡∏Ç‡∏≠‡∏á Arnold"},
    {name:"Dumbbell Lateral Raise", muscle:"‡πÑ‡∏´‡∏•‡πà", targets:"‡πÑ‡∏´‡∏•‡πà‡∏Å‡∏•‡∏≤‡∏á", type:"Isolation", image:"", video:"./videos/db-lateral.mp4", description:"‡πÑ‡∏´‡∏•‡πà‡∏Å‡∏ß‡πâ‡∏≤‡∏á"},
    {name:"Dumbbell Front Raise", muscle:"‡πÑ‡∏´‡∏•‡πà", targets:"‡πÑ‡∏´‡∏•‡πà‡∏´‡∏ô‡πâ‡∏≤", type:"Isolation", image:"", video:"./videos/db-front-raise.mp4", description:"‡∏¢‡∏Å‡∏´‡∏ô‡πâ‡∏≤"},
    {name:"Dumbbell Rear Delt Fly", muscle:"‡πÑ‡∏´‡∏•‡πà", targets:"‡πÑ‡∏´‡∏•‡πà‡∏´‡∏•‡∏±‡∏á", type:"Isolation", image:"", video:"./videos/db-rear-delt.mp4", description:"‡πÑ‡∏´‡∏•‡πà‡∏´‡∏•‡∏±‡∏á‡πÇ‡∏Ñ‡πâ‡∏á"},
    
    {name:"Dumbbell Curl", muscle:"‡πÅ‡∏Ç‡∏ô", targets:"‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏Ç‡∏ô", type:"Compound", image:"", video:"./videos/db-curl.mp4", description:"‡∏•‡∏π‡∏Å‡∏´‡∏ô‡∏π"},
    {name:"Hammer Curl", muscle:"‡πÅ‡∏Ç‡∏ô", targets:"‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏Ç‡∏ô ‡∏Ç‡πâ‡∏≠‡∏°‡∏∑‡∏≠", type:"Compound", image:"", video:"./videos/hammer-curl.mp4", description:"‡∏à‡∏±‡∏ö‡πÅ‡∏ö‡∏ö‡∏Ñ‡πâ‡∏≠‡∏ô"},
    {name:"Dumbbell Tricep Extension", muscle:"‡πÅ‡∏Ç‡∏ô", targets:"‡∏´‡∏•‡∏±‡∏á‡πÅ‡∏Ç‡∏ô", type:"Isolation", image:"", video:"./videos/db-tricep-ext.mp4", description:"‡∏¢‡∏∑‡∏î‡∏´‡∏•‡∏±‡∏á‡πÅ‡∏Ç‡∏ô"},
    {name:"Dumbbell Kickback", muscle:"‡πÅ‡∏Ç‡∏ô", targets:"‡∏´‡∏•‡∏±‡∏á‡πÅ‡∏Ç‡∏ô", type:"Isolation", image:"", video:"./videos/db-kickback.mp4", description:"‡πÄ‡∏ï‡∏∞‡∏´‡∏•‡∏±‡∏á‡πÅ‡∏Ç‡∏ô"},
    {name:"Concentration Curl", muscle:"‡πÅ‡∏Ç‡∏ô", targets:"‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏Ç‡∏ô", type:"Isolation", image:"", video:"./videos/concentration-curl.mp4", description:"‡πÄ‡∏ô‡πâ‡∏ô‡∏•‡∏π‡∏Å‡∏´‡∏ô‡∏π"},
    
    {name:"Dumbbell Squat", muscle:"‡∏Ç‡∏≤", targets:"‡∏ï‡πâ‡∏ô‡∏Ç‡∏≤ ‡∏Å‡πâ‡∏ô", type:"Compound", image:"", video:"./videos/db-squat.mp4", description:"‡∏™‡∏Ñ‡∏ß‡∏≠‡∏ó‡∏î‡πâ‡∏ß‡∏¢‡∏î‡∏±‡∏°‡πÄ‡∏ö‡∏•"},
    {name:"Dumbbell Lunge", muscle:"‡∏Ç‡∏≤", targets:"‡∏ï‡πâ‡∏ô‡∏Ç‡∏≤ ‡∏Å‡πâ‡∏ô", type:"Compound", image:"", video:"./videos/db-lunge.mp4", description:"‡∏Å‡πâ‡∏≤‡∏ß‡∏¢‡∏≤‡∏ß"},
    {name:"Dumbbell Romanian Deadlift", muscle:"‡∏Ç‡∏≤", targets:"‡∏ô‡πà‡∏≠‡∏á ‡∏Å‡πâ‡∏ô", type:"Isolation", image:"", video:"./videos/db-rdl.mp4", description:"‡πÄ‡∏î‡∏î‡∏•‡∏¥‡∏ü‡∏ó‡πå‡∏Ç‡∏≤‡∏ï‡∏£‡∏á"},
    {name:"Dumbbell Calf Raise", muscle:"‡∏Ç‡∏≤", targets:"‡∏ô‡πà‡∏≠‡∏á", type:"Isolation", image:"", video:"./videos/db-calf.mp4", description:"‡∏¢‡∏Å‡∏ô‡πà‡∏≠‡∏á"}
  ],

  "üèãÔ∏è‚Äç‚ôÇÔ∏è ‡∏ö‡∏≤‡∏£‡πå‡πÄ‡∏ö‡∏•": [
    {name:"Barbell Bench Press", muscle:"‡∏≠‡∏Å", targets:"‡∏≠‡∏Å‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î", type:"Compound", image:"", video:"./videos/bb-bench.mp4", description:"‡∏£‡∏≤‡∏ä‡∏≤‡∏ó‡πà‡∏≤‡∏≠‡∏Å"},
    {name:"Incline Barbell Press", muscle:"‡∏≠‡∏Å", targets:"‡∏≠‡∏Å‡∏ö‡∏ô", type:"Compound", image:"", video:"./videos/bb-incline.mp4", description:"‡∏≠‡∏Å‡∏ö‡∏ô‡∏î‡πâ‡∏ß‡∏¢‡∏ö‡∏≤‡∏£‡πå"},
    {name:"Decline Barbell Press", muscle:"‡∏≠‡∏Å", targets:"‡∏≠‡∏Å‡∏•‡πà‡∏≤‡∏á", type:"Compound", image:"", video:"./videos/bb-decline.mp4", description:"‡∏≠‡∏Å‡∏•‡πà‡∏≤‡∏á‡∏î‡πâ‡∏ß‡∏¢‡∏ö‡∏≤‡∏£‡πå"},
    
    {name:"Barbell Deadlift", muscle:"‡∏´‡∏•‡∏±‡∏á", targets:"‡∏´‡∏•‡∏±‡∏á‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î ‡∏Ç‡∏≤", type:"Compound", image:"", video:"./videos/bb-deadlift.mp4", description:"‡∏£‡∏≤‡∏ä‡∏≤‡∏ó‡πà‡∏≤‡∏´‡∏•‡∏±‡∏á"},
    {name:"Barbell Row", muscle:"‡∏´‡∏•‡∏±‡∏á", targets:"‡∏Å‡∏•‡∏≤‡∏á‡∏´‡∏•‡∏±‡∏á", type:"Compound", image:"", video:"./videos/bb-row.mp4", description:"‡πÇ‡∏£‡∏ß‡πå‡∏î‡πâ‡∏ß‡∏¢‡∏ö‡∏≤‡∏£‡πå"},
    {name:"T-Bar Row", muscle:"‡∏´‡∏•‡∏±‡∏á", targets:"‡∏´‡∏•‡∏±‡∏á‡∏´‡∏ô‡∏≤", type:"Compound", image:"", video:"./videos/tbar-row.mp4", description:"‡πÇ‡∏£‡∏ß‡πå‡πÅ‡∏ö‡∏ö T"},
    
    {name:"Barbell Overhead Press", muscle:"‡πÑ‡∏´‡∏•‡πà", targets:"‡πÑ‡∏´‡∏•‡πà‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î", type:"Compound", image:"", video:"./videos/bb-ohp.mp4", description:"‡∏¢‡∏Å‡∏ö‡∏≤‡∏£‡πå‡πÄ‡∏´‡∏ô‡∏∑‡∏≠‡∏´‡∏±‡∏ß"},
    {name:"Barbell Upright Row", muscle:"‡πÑ‡∏´‡∏•‡πà", targets:"‡πÑ‡∏´‡∏•‡πà ‡∏Ñ‡∏≠", type:"Compound", image:"", video:"./videos/bb-upright-row.mp4", description:"‡∏î‡∏∂‡∏á‡∏ö‡∏≤‡∏£‡πå‡∏ï‡∏¥‡∏î‡∏Ñ‡∏≤‡∏á"},
    
    {name:"Barbell Curl", muscle:"‡πÅ‡∏Ç‡∏ô", targets:"‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏Ç‡∏ô", type:"Compound", image:"", video:"./videos/bb-curl.mp4", description:"‡∏Ñ‡∏±‡∏î‡∏•‡∏π‡∏Å‡∏´‡∏ô‡∏π‡∏î‡πâ‡∏ß‡∏¢‡∏ö‡∏≤‡∏£‡πå"},
    {name:"Close Grip Bench Press", muscle:"‡πÅ‡∏Ç‡∏ô", targets:"‡∏´‡∏•‡∏±‡∏á‡πÅ‡∏Ç‡∏ô ‡∏≠‡∏Å", type:"Compound", image:"", video:"./videos/close-bench.mp4", description:"‡∏à‡∏±‡∏ö‡πÅ‡∏Ñ‡∏ö‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏´‡∏•‡∏±‡∏á‡πÅ‡∏Ç‡∏ô"},
    {name:"Barbell Skull Crusher", muscle:"‡πÅ‡∏Ç‡∏ô", targets:"‡∏´‡∏•‡∏±‡∏á‡πÅ‡∏Ç‡∏ô", type:"Isolation", image:"", video:"./videos/skull-crusher.mp4", description:"‡∏ó‡∏∏‡∏ö‡∏´‡∏±‡∏ß‡∏Å‡∏∞‡πÇ‡∏´‡∏•‡∏Å"},
    {name:"EZ Bar Curl", muscle:"‡πÅ‡∏Ç‡∏ô", targets:"‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏Ç‡∏ô", type:"Isolation", image:"", video:"./videos/ez-curl.mp4", description:"‡∏Ñ‡∏±‡∏î‡∏î‡πâ‡∏ß‡∏¢ EZ Bar"},
    
    {name:"Barbell Squat", muscle:"‡∏Ç‡∏≤", targets:"‡∏ï‡πâ‡∏ô‡∏Ç‡∏≤ ‡∏Å‡πâ‡∏ô", type:"Compound", image:"", video:"./videos/bb-squat.mp4", description:"‡∏£‡∏≤‡∏ä‡∏≤‡∏ó‡πà‡∏≤‡∏Ç‡∏≤"},
    {name:"Front Squat", muscle:"‡∏Ç‡∏≤", targets:"‡∏ï‡πâ‡∏ô‡∏Ç‡∏≤‡∏´‡∏ô‡πâ‡∏≤", type:"Compound", image:"", video:"./videos/front-squat.mp4", description:"‡∏™‡∏Ñ‡∏ß‡∏≠‡∏ó‡∏´‡∏ô‡πâ‡∏≤"},
    {name:"Barbell Lunge", muscle:"‡∏Ç‡∏≤", targets:"‡∏ï‡πâ‡∏ô‡∏Ç‡∏≤ ‡∏Å‡πâ‡∏ô", type:"Compound", image:"", video:"./videos/bb-lunge.mp4", description:"‡∏Å‡πâ‡∏≤‡∏ß‡∏¢‡∏≤‡∏ß‡∏î‡πâ‡∏ß‡∏¢‡∏ö‡∏≤‡∏£‡πå"},
    {name:"Romanian Deadlift", muscle:"‡∏Ç‡∏≤", targets:"‡∏ô‡πà‡∏≠‡∏á ‡∏Å‡πâ‡∏ô", type:"Compound", image:"", video:"./videos/bb-rdl.mp4", description:"RDL"}
  ],

  "üí™ ‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡∏ï‡∏±‡∏ß": [
    {name:"Push-up", muscle:"‡∏≠‡∏Å", targets:"‡∏≠‡∏Å ‡πÑ‡∏´‡∏•‡πà ‡∏´‡∏•‡∏±‡∏á‡πÅ‡∏Ç‡∏ô", type:"Compound", image:"", video:"./videos/pushup.mp4", description:"‡∏ß‡∏¥‡∏î‡∏û‡∏∑‡πâ‡∏ô‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô"},
    {name:"Wide Push-up", muscle:"‡∏≠‡∏Å", targets:"‡∏≠‡∏Å‡∏Å‡∏ß‡πâ‡∏≤‡∏á", type:"Compound", image:"", video:"./videos/wide-pushup.mp4", description:"‡∏°‡∏∑‡∏≠‡∏Å‡∏ß‡πâ‡∏≤‡∏á"},
    {name:"Diamond Push-up", muscle:"‡πÅ‡∏Ç‡∏ô", targets:"‡∏´‡∏•‡∏±‡∏á‡πÅ‡∏Ç‡∏ô ‡∏≠‡∏Å‡πÉ‡∏ô", type:"Compound", image:"", video:"./videos/diamond-pushup.mp4", description:"‡∏°‡∏∑‡∏≠‡∏ä‡∏¥‡∏î"},
    {name:"Decline Push-up", muscle:"‡∏≠‡∏Å", targets:"‡∏≠‡∏Å‡∏ö‡∏ô", type:"Compound", image:"", video:"./videos/decline-pushup.mp4", description:"‡πÄ‡∏ó‡πâ‡∏≤‡∏™‡∏π‡∏á"},
    
    {name:"Pull-up", muscle:"‡∏´‡∏•‡∏±‡∏á", targets:"‡∏´‡∏•‡∏±‡∏á ‡∏õ‡∏µ‡∏Å", type:"Compound", image:"", video:"./videos/pullup.mp4", description:"‡∏ó‡πà‡∏≤‡∏´‡∏•‡∏±‡∏Å‡∏´‡∏•‡∏±‡∏á"},
    {name:"Chin-up", muscle:"‡πÅ‡∏Ç‡∏ô", targets:"‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏Ç‡∏ô ‡∏´‡∏•‡∏±‡∏á", type:"Compound", image:"", video:"./videos/chinup.mp4", description:"‡∏ù‡πà‡∏≤‡∏°‡∏∑‡∏≠‡∏´‡∏±‡∏ô‡∏´‡∏ô‡πâ‡∏≤"},
    {name:"Australian Pull-up", muscle:"‡∏´‡∏•‡∏±‡∏á", targets:"‡∏Å‡∏•‡∏≤‡∏á‡∏´‡∏•‡∏±‡∏á", type:"Compound", image:"", video:"./videos/aussie-pullup.mp4", description:"‡πÇ‡∏£‡∏ß‡πå‡πÅ‡∏ö‡∏ö‡πÅ‡∏Ç‡∏ß‡∏ô"},
    
    {name:"Dips", muscle:"‡∏≠‡∏Å", targets:"‡∏≠‡∏Å‡∏•‡πà‡∏≤‡∏á ‡∏´‡∏•‡∏±‡∏á‡πÅ‡∏Ç‡∏ô", type:"Compound", image:"", video:"./videos/dips.mp4", description:"‡∏à‡∏∏‡πà‡∏°‡∏ï‡∏±‡∏ß"},
    {name:"Tricep Dips", muscle:"‡πÅ‡∏Ç‡∏ô", targets:"‡∏´‡∏•‡∏±‡∏á‡πÅ‡∏Ç‡∏ô", type:"Isolation", image:"", video:"./videos/tricep-dips.mp4", description:"‡∏à‡∏∏‡πà‡∏°‡∏´‡∏•‡∏±‡∏á‡πÅ‡∏Ç‡∏ô"},
    
    {name:"Bodyweight Squat", muscle:"‡∏Ç‡∏≤", targets:"‡∏ï‡πâ‡∏ô‡∏Ç‡∏≤ ‡∏Å‡πâ‡∏ô", type:"Compound", image:"", video:"./videos/bw-squat.mp4", description:"‡∏™‡∏Ñ‡∏ß‡∏≠‡∏ó‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡∏ï‡∏±‡∏ß"},
    {name:"Pistol Squat", muscle:"‡∏Ç‡∏≤", targets:"‡∏ï‡πâ‡∏ô‡∏Ç‡∏≤ ‡∏Å‡πâ‡∏ô ‡∏™‡∏°‡∏î‡∏∏‡∏•", type:"Compound", image:"", video:"./videos/pistol-squat.mp4", description:"‡∏Ç‡∏≤‡πÄ‡∏î‡∏µ‡∏¢‡∏ß"},
    {name:"Bulgarian Split Squat", muscle:"‡∏Ç‡∏≤", targets:"‡∏ï‡πâ‡∏ô‡∏Ç‡∏≤ ‡∏Å‡πâ‡∏ô", type:"Compound", image:"", video:"./videos/bulgarian-squat.mp4", description:"‡∏Ç‡∏≤‡∏´‡∏•‡∏±‡∏á‡∏¢‡∏Å"},
    {name:"Calf Raise", muscle:"‡∏Ç‡∏≤", targets:"‡∏ô‡πà‡∏≠‡∏á", type:"Isolation", image:"", video:"./videos/calf-raise.mp4", description:"‡∏¢‡∏Å‡∏ô‡πà‡∏≠‡∏á"},
    
    {name:"Plank", muscle:"‡∏ó‡πâ‡∏≠‡∏á", targets:"‡∏Ñ‡∏≠‡∏£‡πå", type:"Isolation", image:"", video:"./videos/plank.mp4", description:"‡πÅ‡∏û‡∏•‡∏á‡∏Ñ‡πå"},
    {name:"Side Plank", muscle:"‡∏ó‡πâ‡∏≠‡∏á", targets:"‡∏Ç‡πâ‡∏≤‡∏á", type:"Isolation", image:"", video:"./videos/side-plank.mp4", description:"‡πÅ‡∏û‡∏•‡∏á‡∏Ñ‡πå‡∏Ç‡πâ‡∏≤‡∏á"},
    {name:"Leg Raise", muscle:"‡∏ó‡πâ‡∏≠‡∏á", targets:"‡∏ó‡πâ‡∏≠‡∏á‡∏•‡πà‡∏≤‡∏á", type:"Isolation", image:"", video:"./videos/leg-raise.mp4", description:"‡∏¢‡∏Å‡∏Ç‡∏≤"},
    {name:"Bicycle Crunch", muscle:"‡∏ó‡πâ‡∏≠‡∏á", targets:"‡∏ó‡πâ‡∏≠‡∏á‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î", type:"Isolation", image:"", video:"./videos/bicycle-crunch.mp4", description:"‡∏õ‡∏±‡πà‡∏ô‡∏à‡∏±‡∏Å‡∏£‡∏¢‡∏≤‡∏ô"}
  ],

  "üèÉ ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á": [
    {name:"Chest Press Machine", muscle:"‡∏≠‡∏Å", targets:"‡∏≠‡∏Å‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î", type:"Compound", image:"", video:"./videos/machine-chest.mp4", description:"‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏≠‡∏Å"},
    {name:"Pec Deck Fly", muscle:"‡∏≠‡∏Å", targets:"‡∏≠‡∏Å‡∏Å‡∏•‡∏≤‡∏á", type:"Isolation", image:"", video:"./videos/pec-deck.mp4", description:"‡∏Å‡∏≤‡∏á‡∏≠‡∏Å‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á"},
    {name:"Cable Crossover", muscle:"‡∏≠‡∏Å", targets:"‡∏≠‡∏Å‡∏Å‡∏•‡∏≤‡∏á", type:"Isolation", image:"", video:"./videos/cable-cross.mp4", description:"‡∏Å‡∏≤‡∏á‡∏™‡∏≤‡∏¢"},
    
    {name:"Lat Pulldown", muscle:"‡∏´‡∏•‡∏±‡∏á", targets:"‡∏´‡∏•‡∏±‡∏á‡∏ö‡∏ô ‡∏õ‡∏µ‡∏Å", type:"Compound", image:"", video:"./videos/lat-pull.mp4", description:"‡∏î‡∏∂‡∏á‡∏•‡∏≤‡∏ó"},
    {name:"Seated Cable Row", muscle:"‡∏´‡∏•‡∏±‡∏á", targets:"‡∏Å‡∏•‡∏≤‡∏á‡∏´‡∏•‡∏±‡∏á", type:"Compound", image:"", video:"./videos/cable-row.mp4", description:"‡πÇ‡∏£‡∏ß‡πå‡∏ô‡∏±‡πà‡∏á"},
    {name:"Face Pull", muscle:"‡πÑ‡∏´‡∏•‡πà", targets:"‡πÑ‡∏´‡∏•‡πà‡∏´‡∏•‡∏±‡∏á", type:"Isolation", image:"", video:"./videos/face-pull.mp4", description:"‡∏î‡∏∂‡∏á‡∏´‡∏ô‡πâ‡∏≤"},
    
    {name:"Shoulder Press Machine", muscle:"‡πÑ‡∏´‡∏•‡πà", targets:"‡πÑ‡∏´‡∏•‡πà‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î", type:"Compound", image:"", video:"./videos/machine-shoulder.mp4", description:"‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÑ‡∏´‡∏•‡πà"},
    {name:"Cable Lateral Raise", muscle:"‡πÑ‡∏´‡∏•‡πà", targets:"‡πÑ‡∏´‡∏•‡πà‡∏Å‡∏•‡∏≤‡∏á", type:"Isolation", image:"", video:"./videos/cable-lateral.mp4", description:"‡∏¢‡∏Å‡∏Ç‡πâ‡∏≤‡∏á‡∏™‡∏≤‡∏¢"},
    
    {name:"Cable Curl", muscle:"‡πÅ‡∏Ç‡∏ô", targets:"‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏Ç‡∏ô", type:"Isolation", image:"", video:"./videos/cable-curl.mp4", description:"‡∏Ñ‡∏±‡∏î‡∏™‡∏≤‡∏¢"},
    {name:"Tricep Pushdown", muscle:"‡πÅ‡∏Ç‡∏ô", targets:"‡∏´‡∏•‡∏±‡∏á‡πÅ‡∏Ç‡∏ô", type:"Isolation", image:"", video:"./videos/tricep-push.mp4", description:"‡∏Å‡∏î‡∏™‡∏≤‡∏¢"},
    {name:"Overhead Cable Extension", muscle:"‡πÅ‡∏Ç‡∏ô", targets:"‡∏´‡∏•‡∏±‡∏á‡πÅ‡∏Ç‡∏ô", type:"Isolation", image:"", video:"./videos/cable-overhead.mp4", description:"‡∏¢‡∏∑‡∏î‡πÄ‡∏´‡∏ô‡∏∑‡∏≠‡∏´‡∏±‡∏ß"},
    
    {name:"Leg Press", muscle:"‡∏Ç‡∏≤", targets:"‡∏ï‡πâ‡∏ô‡∏Ç‡∏≤ ‡∏Å‡πâ‡∏ô", type:"Compound", image:"", video:"./videos/leg-press.mp4", description:"‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏Å‡∏î‡∏Ç‡∏≤"},
    {name:"Leg Extension", muscle:"‡∏Ç‡∏≤", targets:"‡∏ï‡πâ‡∏ô‡∏Ç‡∏≤‡∏´‡∏ô‡πâ‡∏≤", type:"Isolation", image:"", video:"./videos/leg-ext.mp4", description:"‡πÄ‡∏´‡∏¢‡∏µ‡∏¢‡∏î‡∏Ç‡∏≤"},
    {name:"Leg Curl", muscle:"‡∏Ç‡∏≤", targets:"‡∏ô‡πà‡∏≠‡∏á", type:"Isolation", image:"", video:"./videos/leg-curl.mp4", description:"‡∏á‡∏≠‡∏Ç‡∏≤"},
    {name:"Calf Machine", muscle:"‡∏Ç‡∏≤", targets:"‡∏ô‡πà‡∏≠‡∏á", type:"Isolation", image:"", video:"./videos/calf-machine.mp4", description:"‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ô‡πà‡∏≠‡∏á"},
    
    {name:"Cable Crunch", muscle:"‡∏ó‡πâ‡∏≠‡∏á", targets:"‡∏ó‡πâ‡∏≠‡∏á‡∏ö‡∏ô", type:"Isolation", image:"", video:"./videos/cable-crunch.mp4", description:"‡∏Ñ‡∏£‡πâ‡∏ô‡∏ä‡πå‡∏™‡∏≤‡∏¢"},
    {name:"Ab Wheel", muscle:"‡∏ó‡πâ‡∏≠‡∏á", targets:"‡∏Ñ‡∏≠‡∏£‡πå", type:"Compound", image:"", video:"./videos/ab-wheel.mp4", description:"‡∏•‡∏π‡∏Å‡∏Å‡∏•‡∏¥‡πâ‡∏á‡∏ó‡πâ‡∏≠‡∏á"}
  ]
};

let selectedDay = 0;
let selectedEquipment = Object.keys(exercisesData)[0];
let searchTerm = "";

/* -------- ‡∏ß‡∏±‡∏ô -------- */
function renderDays() {
  const box = document.getElementById("dayList");
  box.innerHTML = "";
  weekDays.forEach((d, i) => {
    const btn = document.createElement("div");
    btn.className = "equipmentBtn";
    if(i === selectedDay) btn.classList.add("active");
    btn.innerText = d.day;
    btn.onclick = () => selectDay(i);
    box.appendChild(btn);
  });
}

function selectDay(i) {
  selectedDay = i;
  renderDays();
  renderExercises();
}

/* -------- ‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå -------- */
function renderEquipmentSelector() {
  const box = document.getElementById("equipmentSelector");
  box.innerHTML = "";
  const select = document.createElement("select");
  select.style.cssText = "padding:8px;border-radius:8px;border:2px solid #ddd;background:white;cursor:pointer;font-size:14px";
  
  Object.keys(exercisesData).forEach((eq, i) => {
    const opt = document.createElement("option");
    opt.value = eq;
    opt.innerText = eq;
    if(eq === selectedEquipment) opt.selected = true;
    select.appendChild(opt);
  });
  
  select.onchange = (e) => {
    selectedEquipment = e.target.value;
    renderExercises();
  };
  
  box.appendChild(select);
}

/* -------- Search Functions -------- */
function setupSearch() {
  const input = document.getElementById("searchInput");
  const clearBtn = document.getElementById("clearSearch");
  
  input.addEventListener("input", (e) => {
    searchTerm = e.target.value.toLowerCase().trim();
    clearBtn.classList.toggle("show", searchTerm.length > 0);
    renderExercises();
  });
  
  input.addEventListener("keydown", (e) => {
    if(e.key === "Escape") {
      clearSearch();
    }
  });
}

function clearSearch() {
  const input = document.getElementById("searchInput");
  const clearBtn = document.getElementById("clearSearch");
  input.value = "";
  searchTerm = "";
  clearBtn.classList.remove("show");
  renderExercises();
  input.focus();
}

function filterExercises(exercises) {
  if(!searchTerm) return exercises;
  
  return exercises.filter(ex => {
    return ex.name.toLowerCase().includes(searchTerm) ||
           ex.muscle.toLowerCase().includes(searchTerm) ||
           ex.targets.toLowerCase().includes(searchTerm) ||
           ex.type.toLowerCase().includes(searchTerm) ||
           ex.description.toLowerCase().includes(searchTerm);
  });
}

/* -------- ‡∏ó‡πà‡∏≤‡∏ù‡∏∂‡∏Å -------- */
function renderExercises() {
  const box = document.getElementById("exerciseList");
  box.innerHTML = "";

  const exercises = exercisesData[selectedEquipment];
  const filtered = filterExercises(exercises);
  
  if(filtered.length === 0) {
    box.innerHTML = `<div class="noResults">
      ‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏ó‡πà‡∏≤‡∏ó‡∏µ‡πà‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö "<b>${searchTerm}</b>"<br>
      ‡∏•‡∏≠‡∏á‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏î‡πâ‡∏ß‡∏¢‡∏Ñ‡∏≥‡∏≠‡∏∑‡πà‡∏ô ‡πÄ‡∏ä‡πà‡∏ô ‡∏ä‡∏∑‡πà‡∏≠‡∏ó‡πà‡∏≤, ‡∏Å‡∏•‡πâ‡∏≤‡∏°‡πÄ‡∏ô‡∏∑‡πâ‡∏≠, ‡∏´‡∏£‡∏∑‡∏≠‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó
    </div>`;
    return;
  }
  
  // ‡∏à‡∏±‡∏î‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏ï‡∏≤‡∏°‡∏Å‡∏•‡πâ‡∏≤‡∏°‡πÄ‡∏ô‡∏∑‡πâ‡∏≠
  const grouped = {};
  filtered.forEach(ex => {
    if(!grouped[ex.muscle]) grouped[ex.muscle] = [];
    grouped[ex.muscle].push(ex);
  });

  // ‡πÅ‡∏™‡∏î‡∏á‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏Å‡∏•‡πâ‡∏≤‡∏°‡πÄ‡∏ô‡∏∑‡πâ‡∏≠
  for(const muscle in grouped) {
    const muscleDiv = document.createElement("div");
    muscleDiv.className = "muscleGroup";
    muscleDiv.textContent = "üéØ " + muscle;
    box.appendChild(muscleDiv);

    grouped[muscle].forEach(ex => {
      const row = document.createElement("div");
      row.className = "exerciseRow";

      const btn = document.createElement("button");
      btn.className = "exerciseBtn";
      btn.innerHTML = `<b>${ex.name}</b><br><small>üéØ ${ex.targets} | ${ex.type}</small>`;
      if(weekDays[selectedDay].muscles.includes(ex.name)) btn.classList.add("selected");
      btn.onclick = () => toggleExercise(ex);

      const view = document.createElement("button");
      view.className = "viewBtn";
      view.textContent = "‚ñ∂";
      view.onclick = (e) => {e.stopPropagation(); showDetail(ex)};

      row.appendChild(btn);
      row.appendChild(view);
      box.appendChild(row);
    });
  }
  
  // Show search result count
  if(searchTerm) {
    const resultCount = document.createElement("div");
    resultCount.style.cssText = "text-align:center;color:#667eea;padding:10px;font-size:13px;font-weight:600";
    resultCount.innerHTML = `‡∏û‡∏ö ${filtered.length} ‡∏ó‡πà‡∏≤‡∏ó‡∏µ‡πà‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö "<b>${searchTerm}</b>"`;
    box.insertBefore(resultCount, box.firstChild);
  }
}

function toggleExercise(ex) {
  const list = weekDays[selectedDay].muscles;
  const i = list.indexOf(ex.name);
  i > -1 ? list.splice(i, 1) : list.push(ex.name);
  renderExercises();
  renderSchedule();
  saveData();
}

/* -------- ‡∏ï‡∏≤‡∏£‡∏≤‡∏á -------- */
function renderSchedule() {
  const box = document.getElementById("schedule");
  box.innerHTML = "";
  
  let hasAny = false;
  weekDays.forEach((d, i) => {
    if(!d.muscles.length) return;
    hasAny = true;

    const card = document.createElement("div");
    card.className = "card";

    const head = document.createElement("div");
    head.className = "cardHeader";

    const title = document.createElement("b");
    title.innerText = d.day;
    title.style.fontSize = "18px";

    const actions = document.createElement("div");

    const edit = document.createElement("button");
    edit.className = "btn edit";
    edit.innerText = "‚úèÔ∏è ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç";
    edit.onclick = () => editDay(i);

    const del = document.createElement("button");
    del.className = "btn del";
    del.innerText = "üóëÔ∏è ‡∏•‡∏ö";
    del.onclick = () => deleteDay(i);

    actions.appendChild(edit);
    actions.appendChild(del);
    head.appendChild(title);
    head.appendChild(actions);
    card.appendChild(head);

    d.muscles.forEach(name => {
      const badge = document.createElement("span");
      badge.className = "badge";
      badge.style.position = "relative";
      badge.style.paddingRight = "25px";
      badge.innerHTML = `${name} <span class="removeBadge">√ó</span>`;
      
      badge.onclick = (e) => {
        if(!e.target.classList.contains("removeBadge")) {
          showDetail(findExercise(name));
        }
      };
      
      const removeBtn = badge.querySelector(".removeBadge");
      removeBtn.onclick = (e) => {
        e.stopPropagation();
        if(confirm("‡∏•‡∏ö‡∏ó‡πà‡∏≤ " + name + " ‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏ß‡∏±‡∏ô" + weekDays[i].day + "?")) {
          weekDays[i].muscles = weekDays[i].muscles.filter(m => m !== name);
          renderSchedule();
          renderExercises();
          saveData();
        }
      };
      
      card.appendChild(badge);
    });

    box.appendChild(card);
  });
  
  if(!hasAny) {
    box.innerHTML = "<p style='color:#999; text-align:center; padding:20px'>‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏ù‡∏∂‡∏Å ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡πÇ‡∏î‡∏¢‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏±‡∏ô‡πÅ‡∏•‡∏∞‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ó‡πà‡∏≤‡∏ù‡∏∂‡∏Å</p>";
  }
}

function findExercise(name) {
  for(const equipment in exercisesData) {
    const ex = exercisesData[equipment].find(e => e.name === name);
    if(ex) return ex;
  }
  return null;
}

function editDay(i) {
  selectedDay = i;
  const dayBtns = document.querySelectorAll(".equipmentBtn");
  dayBtns.forEach(btn => btn.classList.remove("active"));
  dayBtns[i].classList.add("active");
  renderExercises();
  window.scrollTo({top:0, behavior:"smooth"});
}

function deleteDay(i) {
  if(!confirm("‡∏•‡∏ö‡∏ó‡∏∏‡∏Å‡∏ó‡πà‡∏≤‡πÉ‡∏ô‡∏ß‡∏±‡∏ô " + weekDays[i].day + " ?")) return;
  weekDays[i].muscles = [];
  renderSchedule();
  saveData();
}

/* -------- modal -------- */
function showDetail(ex) {
  if(!ex) return;
  document.getElementById("mTitle").innerText = ex.name;
  
  const img = document.getElementById("mImg");
  if(ex.image && ex.image.trim() !== "") {
    img.src = ex.image;
    img.style.display = "block";
    img.onerror = () => {img.style.display = "none";}; // ‡∏ã‡πà‡∏≠‡∏ô‡∏ñ‡πâ‡∏≤‡∏•‡∏¥‡∏á‡∏Å‡πå‡πÄ‡∏™‡∏µ‡∏¢
  } else {
    img.style.display = "none";
  }
  
  document.getElementById("mDesc").innerText = ex.description;
  document.getElementById("mTarget").innerText = "üéØ ‡∏Å‡∏•‡πâ‡∏≤‡∏°‡πÄ‡∏ô‡∏∑‡πâ‡∏≠: " + ex.targets;
  document.getElementById("mType").innerText = "üìÇ ‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó: " + ex.type + " | ‡∏Å‡∏•‡πâ‡∏≤‡∏°: " + ex.muscle;

  const video = document.getElementById("mVideo");
  const src = document.getElementById("mVideoSrc");

  if(ex.video && ex.video.trim() !== "") {
    src.src = ex.video;
    video.load();
    video.style.display = "block";
    video.onerror = () => {video.style.display = "none";}; // ‡∏ã‡πà‡∏≠‡∏ô‡∏ñ‡πâ‡∏≤‡πÑ‡∏ü‡∏•‡πå‡πÑ‡∏°‡πà‡∏°‡∏µ
  } else {
    video.style.display = "none";
  }

  document.getElementById("modal").classList.add("active");
}

function closeDetail() {
  const video = document.getElementById("mVideo");
  video.pause();
  video.currentTime = 0;
  document.getElementById("modal").classList.remove("active");
}

// Click outside modal to close
document.getElementById("modal").addEventListener("click", function(e) {
  if(e.target === this) closeDetail();
});

/* -------- ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô -------- */
window.onload = function() {
  loadData();
  renderDays();
  renderEquipmentSelector();
  renderSchedule();
  setupSearch();
};

</script>

</body>
</html>
